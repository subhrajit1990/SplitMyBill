CREATE TABLE `split_group` (
  `group_id` INT NOT NULL AUTO_INCREMENT,
  `group_name` VARCHAR(45) NOT NULL,
  `channel` VARCHAR(45) NOT NULL,
  `group_type` VARCHAR(45) NOT NULL,
  `updated_dt` timestamp NULL DEFAULT NULL,
  `created_dt` timestamp NULL DEFAULT NULL,
  `members` LONGTEXT NULL,
  `creator_acct_number` VARCHAR(45) NOT NULL,
  `master_txn_no` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`group_id`,`creator_acct_number`)); commit;
  
  
  
CREATE TABLE `split_add_members` (
  `group_id` int(11) NOT NULL AUTO_INCREMENT,
  `account_name` varchar(45) NOT NULL,
  `channel` varchar(45) NOT NULL,
  `updated_dt` timestamp NULL DEFAULT NULL,
  `created_dt` timestamp NULL DEFAULT NULL,
  `member_acct_number` varchar(45) NOT NULL,
  `master_txn_no` varchar(45) NOT NULL,
  PRIMARY KEY (`group_id`,`member_acct_number`)
); commit;

CREATE TABLE `split_bill` (
  `group_id` int(11) NOT NULL ,
  `bill_id` varchar(45) NOT NULL,
  `channel` varchar(45) NOT NULL,
  `updated_dt` timestamp NULL DEFAULT NULL,
  `created_dt` timestamp NULL DEFAULT NULL,
  `master_txn_no` varchar(45) NOT NULL,
  `bill` LONGTEXT NOT NULL,
  PRIMARY KEY (`group_id`,`bill_id`)
); commit;

/* HEROKU */



begin;
set transaction read write;

CREATE TABLE split_group (
  group_id SERIAL NOT NULL,
  group_name VARCHAR(45) NOT NULL,
  channel VARCHAR(45) NOT NULL,
  group_type VARCHAR(45) NOT NULL,
  updated_dt timestamp NULL DEFAULT NULL,
  created_dt timestamp NULL DEFAULT NULL,
  members TEXT NULL,
  creator_acct_number VARCHAR(45) NOT NULL,
  master_txn_no VARCHAR(45) NOT NULL,
  PRIMARY KEY (group_id,creator_acct_number)); 

  commit;
  
  
  begin;
set transaction read write;
  
  CREATE TABLE split_add_members (
  group_id SERIAL NOT NULL,
  account_name varchar(45) NOT NULL,
  channel varchar(45) NOT NULL,
  updated_dt timestamp NULL DEFAULT NULL,
  created_dt timestamp NULL DEFAULT NULL,
  member_acct_number varchar(45) NOT NULL,
  master_txn_no varchar(45) NOT NULL,
  PRIMARY KEY (group_id,member_acct_number)
); commit;
  
  
 CREATE TABLE `split_bill` (
  `group_id` int(11) NOT NULL ,
  `bill_id` varchar(45) NOT NULL,
  `channel` varchar(45) NOT NULL,
  `updated_dt` timestamp NULL DEFAULT NULL,
  `created_dt` timestamp NULL DEFAULT NULL,
  `master_txn_no` varchar(45) NOT NULL,
  `bill` TEXT NOT NULL,
  PRIMARY KEY (`group_id`,`bill_id`)
); commit;
